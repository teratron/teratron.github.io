# with

[Назад][back]

### with … as — менеджеры контекста

```
"with" expression ["as" target] ("," expression ["as" target])* ":"
    suite
```

1. Выполняется выражение в конструкции `with` ... `as`.
2. Загружается специальный метод `__exit__` для дальнейшего использования.
3. Выполняется метод `__enter__`. Если конструкция with включает в себя слово `as`, то возвращаемое методом `__enter__`
   значение записывается в переменную.
4. Выполняется suite.
5. Вызывается метод `__exit__`, причём неважно, выполнилось ли suite или произошло исключение. В этот метод передаются
   параметры исключения, если оно произошло, или во всех аргументах значение `None`, если исключения не было.

```python
with A() as a, B() as b:
    suite
```

```python
with A() as a:
    with B() as b:
        suite
```

### Для чего применяется конструкция with ... as?

**Для гарантии того, что критические функции выполнятся в любом случае.**\
Самый распространённый пример использования этой конструкции - открытие файлов.
Конструкция with ... as, как правило, является более удобной и гарантирует закрытие файла в любом случае.

```python
with open('newfile.txt', 'w', encoding='utf-8') as g:
    d = int(input())
    print('1 / {} = {}'.format(d, 1 / d), file=g)
```

```python

```

### blank

```python

```

```python

```

```python

```

```python

```

[Назад][back]

[back]: <.> "Назад к оглавлению"